---
title: "RF31: Usuario retira fórmula."  
sidebar_position: 32
---

# RF31: Usuario retira fórmula.

### Historia de Usuario

Yo como usuario quiero retirar una fórmula aplicada en mi análisis para regresar mis datos a su valor base.

  **Precondiciones:**
  - Debe haber fórmulas aplicada a gráficas.

  **Criterios de Aceptación:**
  - El sistema debe mostrar un botón o control para retirar cada fórmula aplicada.
  - Al retirar una fórmula, los datos deben regresar a sus valores originales inmediatamente.
  - La gráfica debe actualizarse automáticamente después de retirar la fórmula.
  - El sistema debe solicitar confirmación antes de retirar una fórmula.
  
---


### Diagrama de Secuencia

```mermaid
sequenceDiagram
actor Usuario
    actor Usuario
    participant Plataforma as Vista
    participant UC1 as retirarFórmulaCU
    participant UC2 as modificarGráficaCU

    Usuario->>Plataforma: Visualiza fórmulas aplicadas
    Plataforma-->>Usuario: Muestra lista de fórmulas activas
    
    Usuario->>Plataforma: Selecciona "Retirar fórmula"
    Plataforma->>Plataforma: Mostrar modal de confirmación
    Usuario->>Plataforma: Confirma retirar fórmula
    
    Plataforma->>UC1: retirarFormula(formulaId)
    UC1->>UC1: obtenerDatosOriginales()
    UC1-->>Plataforma: Regresa datos originales
    
    Plataforma->>UC2: modificarGrafica(datosOriginales)
    UC2-->>Plataforma: Gráfica actualizada con datos base
    Plataforma-->>Usuario: Gráfica restaurada + mensaje de confirmación
    
  
    
```

---

### Mockup

![Mockup](./mockups/MockupAnálisis2.png)

> *Descripción*: El mockup representa la interfaz del sistema donde el usuario puede retirar una fórmula. 


---

### Pruebas Unitarias 
  - [Pruebas](https://docs.google.com/spreadsheets/d/1W-JW32dTsfI22-Yl5LydMhiu-oXHH_xo3hWvK6FHeLw/edit?gid=1410973941#gid=1410973941)

---

### Pull request
[Github]
