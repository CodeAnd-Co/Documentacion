---
title: "RF11: Descargar reportes"  
sidebar_position: 12
---

# RF11: Descargar reportes

**Última actualización:** 08 de marzo de 2025

### Historia de Usuario
Como administrador del sistema, quiero descargar un archivo en formato Excel con un rango de consulta de las charolas, para analizar los datos de producción de manera más detallada y compartir la información con otros miembros del equipo.

  **Criterios de Aceptación:**
  - El sistema debe permitir seleccionar un rango de fechas o parámetros para generar el reporte.
  - La información debe exportarse en formato Excel (.xlsx) de manera organizada y legible.
  - El archivo debe contener detalles relevantes como identificador de la charola, peso, fecha de creación y estado.
  - La descarga debe completarse en un tiempo razonable sin afectar el rendimiento del sistema.

---

### Diagrama de Secuencia
```mermaid
sequenceDiagram
    actor Usuario 
    participant View as View
    participant ViewModel as ViewModel
    participant Domain as Domain
    participant Repository as Repository
    participant APIService as API Service (MVVM)
    participant Controller as Controller
    participant Model as Model
    participant Database as Base de Datos

    alt Inicio de sesión exitoso
        Usuario->>+View: Presiona "Iniciar Sesión"
        View->>-ViewModel: iniciarSesion(usuario, contraseña)
        ViewModel->>Domain: iniciarSesion(usuario, contraseña)
        Domain->>Repository: iniciarSesion(usuario, contraseña)

        Repository->>APIService: iniciarSesion(usuario, contraseña)
        APIService->>Controller: Procesar solicitud
        Controller->>Model: Validar existencia y dar acceso
        Model->>Database: SELECT FROM usuarios WHERE user = usuario && contrasena = contraseña

        Database-->>Model: Confirma información
        Model-->>Controller: Éxito
        Controller-->>APIService: 200 OK
        APIService-->>Repository: Inicio de sesión exitoso
        Repository-->>Domain: Inicio de sesión exitoso
        Domain-->>ViewModel: Notifica éxito
        ViewModel-->>View: Actualizar UI
        View-->>Usuario: Mostrar interfaz de menú de charolas
    else Sin conexión a internet, 503
        Usuario->>View: Presiona "Iniciar Sesión"
        View->>ViewModel: iniciarSesion(usuario, contraseña)
        ViewModel->>Domain: iniciarSesion(usuario, contraseña)
        Domain->>Repository: iniciarSesion(usuario, contraseña)

        Repository->>APIService: iniciarSesion(usuario, contraseña)

        APIService-->>Repository: Error 503
        Repository-->>Domain: Error 503
        Domain-->>ViewModel: Notifica error
        ViewModel-->>View: Actualizar UI
        View-->>Usuario: Mostrar mensaje "Sin conexión a internet"
    else Usuario o contraseña incorrecto, 404
        Usuario->>View: Presiona "Iniciar Sesión"
        View->>ViewModel: iniciarSesion(usuario, contraseña)
        ViewModel->>Domain: iniciarSesion(usuario, contraseña)
        Domain->>Repository: iniciarSesion(usuario, contraseña)

        Repository->>APIService: iniciarSesion(usuario, contraseña)
        APIService->>Controller: Procesar solicitud
        Controller->>Model: Validar existencia y dar acceso
        Model->>Database: SELECT FROM usuarios WHERE user = usuario && contrasena = contraseña

        Database-->>Model: Dato no encontrado
        Model-->>Controller: Error
        Controller-->>APIService: Error 404
        APIService-->>Repository: Error 404
        Repository-->>Domain: Error 404
        Domain-->>ViewModel: Notifica Error
        ViewModel-->>View: Actualizar UI
        View-->>Usuario: Mostrar mensaje "Usuario o contraseña incorrecto"
    end

```

> *Descripción*: El diagrama de secuencia muestra el flujo del proceso de creación de un grupo de empleados, donde el Super Administrador ingresa los datos del grupo y el sistema lo crea.

---

### Mockup

> *Descripción*: El mockup muestra la interfaz donde el Super Administrador ingresa los datos del grupo, incluyendo nombre, descripción y empleados asignados.
