---
title: "RF10: Consultar información detallada de una charola"  
sidebar_position: 11
---

# RF10: Consultar información detallada de una charola

### Historia de Usuario
Como usuario del sistema, quiero consultar la información registrada de una charola en la base de datos, para acceder a detalles específicos como su estado, origen y registros asociados, y así mejorar la gestión de la producción.


  **Criterios de Aceptación:**
  - El sistema debe permitir seleccionar una charola y mostrar su información detallada.
  - Debe incluir datos como identificador, peso, fecha de creación y estado actual.
  - La información debe estar organizada y ser fácilmente comprensible.
  - La consulta debe ejecutarse rápidamente sin afectar el rendimiento del sistema.

---

### Diagrama de Secuencia

> *Descripción*: El diagrama de secuencia muestra el flujo de consulta de empleados, donde el Super Administrador o Cliente solicita la lista de empleados y el sistema devuelve la información correspondiente.

```mermaid
sequenceDiagram
    actor Usuario
    participant View as View
    participant ViewModel as ViewModel
    participant Domain as Domain
    participant Repository as Repository
    participant APIClient as API Client (MVVM)
    participant APIService as API Service (MVVM)
    participant Controller as Controller
    participant Model as Model
    participant Database as Base de Datos

    Usuario->>View: Selecciona consultar detalle charola 
    View->>ViewModel: consDetalleCharola(id)
    ViewModel->>Domain: consDetalleCharola(id)
    Domain->>Repository: consDetalleCharola(id)
    Repository->>APIClient: consDetalleCharola(id)
    alt Consulta exitosa
        APIClient->>APIService: GET /charola/{id}
        APIService->>Controller: GET /charola/{id}
        Controller->>Model: Buscar charola por id
        Model->>Database: SELECT nombreCharola, <br>fechCreacion, <br>pesoCharola, <br>habitacionCiclo, <br>comidaCiclo, <br>cantidadResiduos <br>FROM CHAROLA WHERE id = ?;
        Database-->>Model: response: Datos de la charola
        Model-->>Controller: response: Datos de la charola
        Controller-->>APIService: response: 200 OK (datos de charola)
        APIService-->>APIClient: response: Datos de la charola
        APIClient-->>Repository: response: Datos de la charola
        Repository-->>Domain: response: Datos de la charola
        Domain-->>ViewModel: response: Datos de la charola
        ViewModel-->>View: Actualizar UI
        View-->>Usuario: response: Datos de la charola
    else Charola no encontrada
        APIClient->>APIService: GET /charola/{id}
        APIService->>Controller: GET /charola/{id}
        Controller->>Model: Buscar charola por id
        Model->>Database: SELECT nombreCharola, <br>fechCreacion, <br>pesoCharola, <br>habitacionCiclo, <br>comidaCiclo, <br>cantidadResiduos <br>FROM CHAROLA WHERE id = ?;
        Database-->>Model: response: (sin resultados)
        Model-->>Controller: response: Charola no encontrada
        Controller-->>APIService: response: 404 Charola no encontrada
        APIService-->>APIClient: response: 404 Charola no encontrada
        APIClient-->>Repository: response: Error "Charola no encontrada"
        Repository-->>Domain: response: Error "Charola no encontrada"
        Domain-->>ViewModel: response: Error "Charola no encontrada"
        ViewModel-->>View: Actualizar UI
        View-->>Usuario: response: Error "Charola no encontrada"
    else Error de red o sin conexión
        APIClient-->>Repository: response: Error de red (sin respuesta)
        Repository-->>Domain: response: Error de red
        Domain-->>ViewModel: response: Error de red
        ViewModel-->>View: Actualizar UI
        View-->>Usuario: response: "Error de conexión. Verifique su red."
    end

```

---

### Mockup

> *Descripción*: El mockup muestra la interfaz donde se visualiza a detalle la fecha de creación, el peso, el frass(abono), la hidratación y la alimentación que se le ha dado a esa charola.

![alt text](detalle-charola.png)

### Pruebas Unitarias 
| ID Prueba  | Descripción                                               | Resultado Esperado  |
|------------|-----------------------------------------------------------|---------------------|
| PU-RF10-01 | Consultar la información de una charola existente.        | El sistema muestra todos los datos detallados de la charola seleccionada. |
| PU-RF10-02 | Intentar consultar una charola inexistente.               | El sistema muestra un mensaje indicando que la charola no fue encontrada. |
| PU-RF10-03 | Verificar que la información incluya identificador, peso, fecha de creación y estado. | Se presentan correctamente todos los campos requeridos de la charola. |
| PU-RF10-04 | Evaluar el tiempo de respuesta de la consulta.            | La consulta se ejecuta rápidamente sin afectar el rendimiento del sistema. |
| PU-RF10-05 | Validar que los datos mostrados sean consistentes con la base de datos. | La información consultada coincide exactamente con los registros almacenados. |

## Historial de cambios

| **Tipo de Versión** | **Descripción**                      | **Fecha**  | **Colaborador**   |
| ------------------- | ------------------------------------ | ---------- | ----------------- |
| **1.0**             | Creacion de la historia de usuario   | 8/3/2025   | Armando Mendez    |
| **1.0**             | Verificación de los cambios          | 8/3/2025   | Miguel Angel      |
| **1.1**             | Creación del diagrama de secuencia   | 15/4/2025  | Sofía Osorio      |
| **1.2**             | Actualización de diagrama de secuencia y subir mockup  | 15/4/2025  | Sofía Osorio      |